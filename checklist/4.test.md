# Test
コンディション作成とデータ準備におけるのチェックリスト

## Contents
- I（インプット）：前提条件・事前準備
  - 全体テスト計画：テストスコープとスケジュールを確認する
  - テストコンディション：ディシジョンテーブル（引き算重要、意味のないコンディション消化に価値はない）

    !!! Tip Tip テストコンディションは、最小公約数の発見が重要
        ブラウザ・解像度・端末・OSのバリエーション、ユーザーの属性（管理者など）、モード（通常・プレビュー）によって、テストコンディションは増大する傾向にある。
        やらないやらないコンディションの見極め（UT対象はやらないなど）が最重要で、闇雲に無意味なコンディションを量産すると、バグを検知し品質を高めることよりコンディション消化が目的となってしまう

  - テストデータ：現象を再現させるために必要なデータ定義（テスト・開発チーム両方に連携する）

    !!! Tip Tip データパターンの命名をデータ作成者のセンスにまかせない
        良い命名は、テスト効率を高める。また、障害の再現時の理解の助けになり、エビデンスにも利用されることを念頭におく
        - エンプティユーザ
        - マックスデータユーザ
        - マックス文字数ユーザ
        - 文字種類検証ユーザ（絵文字やサロゲート文字含むなど）
      
- P（プロセス）：進め方・観点
    
    !!! Tip Tip 開発完了を待たずに、テストを開始しない
      上流の品質の方が重要、テストで無意味な障害を上げず、テストメンバも初期は開発参加し、十分にテストできる状態になってから開始する
  - 品質管理：インシデント・QAなど分類後、責任範囲を明らかにして、スプリントごとに改善していく
    - 外部品質：仕様どおりに動く、バグがない、高速に動作する
    - 内部品質：保守性や柔軟性、可読性、一貫性→割れ窓理論(中期的に品質低下、スピード低下)
    - 技術負債について：変化による負債はOK、手間を惜しんだ、負債はNG
- O（アウトプット）
  - イシュー管理

    !!! Tip Tip 仕様把握はテストチーム責務
        障害起票時するだけで対応を丸投げせず、あるべき姿を明確化する。
        テストチームがテスターとして作業者になるのではなく、プロダクトオーナとして障害ではなくても自ら品質を高めるような改善の動きができることが必要
      
    - 起票フォーマット(起票ルール)
      - インシデントの概要（仕様：サービスの概要）
      - 緊急度・重要度（LOW・MIDIUM・HIGH）
      - 発生手順/再現手順（バリエーションがあれば記載、この手順の場合はOK、再現率10回に1回など）
      - 発生環境（データ、テストユーザー、環境、テスト断面管理）（省略可）
      - 発生時間：（省略可）
      - 影響範囲：（省略可）
      - 横展開：対象機能、画面（省略可）
      - 期待値：〜にならないことみたいな、期待値丸投げな記載はしない
      - インシデントの原因（DEV）：
      - 暫定対応（DEV）：（省略可）
      - 根本的な原因（DEV）：
      - 恒久対応（DEV）：
      - 再発防止策（DEV）：

      !!! Tip Tip 障害の認識が甘ければ解消されないので起票レベルは重要
          - 起票レベルの低さ（障害内容が不鮮明な場合等）はルールを設けて対処必要
          - 即座にタイトルで内容が理解できるのがベスト
            - 〜不備、〜異常など曖昧な単語は避けるべき
            - コンディション、対象、分類がわかるように（無限スクロール処理未対応、文言違い、レイアウト(余白)、エンプティケース、実機のみ）
    - 分析
      - 障害起因
        - 設計工程
          - 設計書漏れ
          - 設計書ミス
        - 開発工程
          - 実装ミス
          - 実装漏れ
          - 期待値違い
        - テスト工程
          - データ不備
          - 環境不備
  
      !!! Tip Tip 場当たり的な改善案ではなく、正しい課題を発見して対象する
          - NG (場当たり的)：障害がなくならない→デグレが原因（テストフェーズの改善だけでは設計・開発の負債は解消しきらない、2次開発も3次開発も何度でも失敗する）
          - OK（例：ダブルダイアモンド）：課題発見（要件定義・設計・開発・工程ごと）→解決策検討（課題ごと）
    - インシデント管理プロセス（フロー）
  - 進捗管理
    - 報告フォーマット

<br>

## CheckList
### Integration Test
- Data
  - Characters
      - 文字種別（結合文字）：半角カタカナ（濁点：2バイト）
      - 文字種別（踊り字）：々（佐々木）
      - 文字種別（Shift_JIS外字）：高→外字の髙（Shift_JIS には無い/辻→外字の辻󠄀）
      - 文字種別（Shift_JIS外字）：波ダッシュ vs 全角チルダ（Shift_JIS には無い）
      - 文字種別（異体字）：葛（葛飾区） の異体字→葛󠄀（カサイ市）
      - 文字サロゲートペア：𠮷野家（土＋口の𠮷（ツチヨシ））
      - 絵文字サロゲートペア（ZWJ繋げ）：👨‍👩‍👧‍👦（家族: 男性と女性と女の子と男の子）
      - 絵文字フィッツパトリック・スケール：🧑🏿‍🦱（6種類から肌の色）
      - その他：'🍣'='🍺' （すし＝ビール）
  - Date
      - 2021/01/01：YYYY確認（yyyyではなくYYYYで設定してないか）
      - うるう年：年齢計算（２０歳が５歳になってないか）
      - 午前0時・午後0時・午前12時・午後12時
      - 2021/01/01 02:20：yyyyMMdd mm:dd（Mは「月」、mは「分」）
  - Currency
      - 1 billion（10億桁溢れ：int）
      - 3桁コンマ
      - 「￥」マーク
  - Account（口座：６桁、桁足らず）
  - Balance（10億：桁あふれ）
  - Image
      - 画像フォーマット（CMYK画像）
      - 画像フォーマット（WEBP）
      - 画像縦長、横長
      - ファイル削除（空白データが残る）
  - Dictionary
      - 中村家vs中村屋
      - 高島屋vs高島屋
      - ポール & ジョー
  - URL
    - カノニカルURL（オーガニック検索対象か）
    - エンコードしているか（％）
    - 検索条件つけつぎると長くなりすぎないか（414/Get vs POST/2000文字目安）
  - eMail
    - RFC違反：@の前に.がついている（バウンス）

- Behavior
  - ブラウザテスト：safari vs mobile safari
  - ブラウザテストのマウス vs 指
  - レゾリューション：フルHD
  - タブキー操作：
  - フリックキー入力：クーポンコード等
  - URL項目：URLエンコードされているか
  - URL項目：いろんなフィルタ条件が増えて、URL長くなりすぎないか（ HTTP 414エラー：Get vs POST/2000文字目安）
  - ページング：２ページ目でフィルターすると、フィルタ後２ページ目がないのでエラー。（１ページ目に戻る必要あり）

### SAST
- GitLab SAST
- Coverity
- SonarQube
- auto complete→OFF

### DAST
- GitLab
- Owasp ZAP
- Fortify

### Security Test

### Peformance Test
- TPS想定確認

### Stress Test

### Long-run Test

<br><br>

## References
