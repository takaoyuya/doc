# Test
コンディション作成とデータ準備におけるのチェックリスト

# IPO
- I（インプット）：前提条件・事前準備
  - テストコンディション：ディシジョンテーブル（引き算重要、意味のないコンディション消化に価値はない）
    - UT対象はやらない 
    - ブラウザ・解像度・端末のバリエーションをどこまで絞って有効なテストができるかが重要
  - テストデータ：現象を再現させるために必要なデータ定義（テスト・開発チーム両方に連携する）
    - データパターンは用意して周知する（データパターンがわかるように。適切な名前をつける）
      > データ作成者のセンスにまかせない。（開発テスト効率の鍵）障害起票の現象連携、エビデンスにも利用されることを念頭におく
      - エンプティユーザ
      - データマックスユーザ
      - マックス文字数検証ユーザ
      - 文字列検証ユーザ（絵文字やサロゲート文字含むなど）
- P（プロセス）：進め方・観点
    > 開発完了せずに、テストを開始しない。上流の品質の方が重要、テストで無意味な障害を上げず自らテストメンバも初期は開発参加する
  - 品質管理：インシデント・QAなど分類後、責任範囲を明らかにして、スプリントごとに改善していく
    - 外部品質：仕様どおりに動く、バグがない、高速に動作する
    - 内部品質：保守性や柔軟性、可読性、一貫性→割れ窓理論(中期的に品質低下、スピード低下)
    - 技術負債について：変化による負債はOK、手間を惜しんだ、負債はNG
- O（アウトプット）
  - イシュー管理
    > 仕様理解はテストチーム責務、障害起票時に対応を丸投げせず、期待値も記載する（〜にならないこと。はNG）
    - 起票フォーマット(起票ルール)
      - 優先度
      - 実施手順/再現手順（バリエーションがあれば記載、この手順の場合はOK、再現率10回に1回など）
      - 実施環境（データ、テストユーザー、環境、テスト断面管理）
      - 横展開（対象機能、画面）
      - 期待値
    - プラクティス
      - 障害の認識が甘ければ、解消されないので、起票レベルは重要
      - 起票レベルの低さ（スクショもなく、障害内容も不鮮明な場合等）はルールを設けて対処必要（再現手順、スクリーンショット、OS、ブラウザ等）
      - 即座にタイトルで内容が理解できるのがベスト
        - 〜不備、〜異常など曖昧なwordingは避けるべき
        - コンディション、対象、分類がわかるように（無限スクロール処理未対応、文言違い、レイアウト(余白)、エンプティケース、実機のみ）
    - 分析
      - 障害起因
        - 設計工程
          - 設計書漏れ
          - 設計書ミス
        - 開発工程
          - 実装ミス
          - 実装漏れ
          - 期待値違い
        - テスト工程
          - データ不備
          - 環境不備
      - プラクティス（場当たり的な改善案ではなく、必要に応じてダブルダイアモンドで分析する）
        - NG(場当たり的)：障害がなくならない→デグレが原因（テストフェーズの改善だけでは設計・開発の負債は解消しきらない、2次開発も3次開発も何度でも失敗する）
        - OK（例：ダブルダイアモンド）：課題発見（要件定義・設計・開発・工程ごと）→解決策検討（課題ごと）
    - インシデント管理プロセス（フロー）
  - 進捗管理
    - 報告フォーマット

## ITa
- Data
  - Characters
      - 文字種別（結合文字）：半角カタカナ（濁点：2バイト）
      - 文字種別（踊り字）：々（佐々木）
      - 文字種別（Shift_JIS外字）：高→外字の髙（Shift_JIS には無い/辻→外字の辻󠄀）
      - 文字種別（Shift_JIS外字）：波ダッシュ vs 全角チルダ（Shift_JIS には無い）
      - 文字種別（異体字）：葛（葛飾区） の異体字→葛󠄀（カサイ市）
      - 文字サロゲートペア：𠮷野家（土＋口の𠮷（ツチヨシ））
      - 絵文字サロゲートペア（ZWJ繋げ）：👨‍👩‍👧‍👦（家族: 男性と女性と女の子と男の子）
      - 絵文字フィッツパトリック・スケール：🧑🏿‍🦱（6種類から肌の色）
      - その他：'🍣'='🍺' （すし＝ビール）
  - Date
      - 2021/01/01：YYYY確認（yyyyではなくYYYYで設定してないか）
      - うるう年：年齢計算（２０歳が５歳になってないか）
      - 午前0時・午後0時・午前12時・午後12時
      - 2021/01/01 02:20：yyyyMMdd mm:dd（Mは「月」、mは「分」）
  - Currency
      - 1 billion（10億桁溢れ：int）
      - 3桁コンマ
      - 「￥」マーク
  - Account（口座：６桁、桁足らず）
  - Balance（10億：桁あふれ）
  - Image
      - 画像フォーマット（CMYK画像）
      - 画像フォーマット（WEBP）
      - 画像縦長、横長
      - ファイル削除（空白データが残る）
  - Dictionary
      - 中村家vs中村屋
      - 高島屋vs高島屋
      - ポール & ジョー
  - URL
    - カノニカルURL（オーガニック検索対象か）
    - エンコードしているか（％）
    - 検索条件つけつぎると長くなりすぎないか（414/Get vs POST/2000文字目安）
  - eMail
    - RFC違反：@の前に.がついている（バウンス）

- Behavior
  - ブラウザテスト：safari vs mobile safari
  - ブラウザテストのマウス vs 指
  - レゾリューション：フルHD
  - タブキー操作：
  - フリックキー入力：クーポンコード等
  - URL項目：URLエンコードされているか
  - URL項目：いろんなフィルタ条件が増えて、URL長くなりすぎないか（ HTTP 414エラー：Get vs POST/2000文字目安）
  - ページング：２ページ目でフィルターすると、フィルタ後２ページ目がないのでエラー。（１ページ目に戻る必要あり）

■Bug Report（運用・対応案）
- 結論（～が原因だった）→ 2. 運用回避方法 → 3. オプションで対応可能か（難易度付き）
  - テンプレート
    - インシデントの概要（仕様：サービスの概要）
    - 発生環境
    - 発生手順
    - 発生時間
    - 影響範囲
    - 緊急度・重要度（LOW・MIDIUM・HIGH）
    - インシデントの原因と対応
    - 直接的な原因
    - 暫定対応
    - 根本的な原因
    - 恒久対応
    - 再発防止策

■Code Coverage Best Practices：https://testing.googleblog.com/2020/08/code-coverage-best-practices.html
the general guidelines of 60% as “acceptable”, 75% as “commendable” and 90% as “exemplary.

□SAST
- GitLab SAST
- Coverity
- SonarQube
- auto complete→OFF

□DAST
- GitLab
- Owasp ZAP
- Fortify

□Security Test

□Peformance Test

□Long-run Test
